image: gjhenrique/blog:latest

stages:
  - cv
  - blog

cv:
  stage: cv
  before_script:
    - cd cv
    - npm install
  script:
    npm run all
  artifacts:
    paths:
      - .
  only:
    - master

pages:
  stage: blog
  before_script:
    - gem install jekyll
    - gem install jekyll-paginate
    - pushd syntax-extractor && npm install && popd
  script:
    - node syntax-extractor/index.js
    - jekyll build -d public
  artifacts:
    paths:
      - public
  only:
    - master


